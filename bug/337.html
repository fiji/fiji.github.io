<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 337 &ndash; Fiji freezes on startup</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_ImageJ bz_component_Launcher bz_bug_337 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;337</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Fiji freezes on startup</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2015-04-06 15:44:13 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="bugzilla-body">


<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2015-04-06 15:44:13">
  <input type="hidden" name="longdesclength" value="17">
  <input type="hidden" name="id" value="337">
  <input type="hidden" name="token" value="1492731600-HOPJYKFee5GP7nBjQ33enVTeekenetLsg34spID6oVQ">
<div class="bz_alias_short_desc_container edit_form">
     <a href="337.html"><b>Bug&nbsp;337</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Fiji freezes on startup</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>Fiji freezes on startup
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >ImageJ</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Launcher</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">Macintosh
       Mac OS
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P2
       normal
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">ImageJ Bugs Mailing List</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2011-07-19 22:21 CDT by <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2015-04-06 15:44 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>0 
          users
        <div id="cc_edit_area">
          <br>
        </div>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    



  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 22:21:45 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I could'nt launch Fiji tonight. The splash is displayed, then the infamous OSX rainbow beachball starts spinning forever with the splash staying on screen

config : MacBook Air 2010, OSX 10.6.8, Java 1.6.0_26, latest Fiji from the Fiji updater

Reproducible steps (?)

- Download Fiji on the Fiji.sc homepage
- Put Fiji.app in applications folder
- launch Fiji
- update Fiji (quite long list of updates)
- quit and relaunch
- Fiji freezes at the splash screen step.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-20 12:01:04 CDT
        </span>
      </div>



<pre class="bz_comment_text" >It is working on my work computer (iMac 27&quot;, same OS/Java/Fiji config). What I do is sync the Fiji folder between this computer and the MBA laptop, but it is not working on the laptop. Will sync again from the iMac to see if the problem disappears (I don&quot;t have the laptop at hand right now).</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-20 12:33:15 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Any messages in the Console (in Finder: Go&gt;Utilities)?</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-20 14:09:04 CDT
        </span>
      </div>



<pre class="bz_comment_text" >4ill tell you as soon as I get near the laptop (so tonight)</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-20 23:00:24 CDT
        </span>
      </div>



<pre class="bz_comment_text" >unfortunately the console says nothing about Fiji when it is launched and when it freezes. When I force it to quit I get	com.apple.launchd.peruser.501[96]	([0x0-0x42042].org.fiji[297]) Exited with exit code: 143</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-21 11:18:55 CDT
        </span>
      </div>



<pre class="bz_comment_text" >So I brought the laptop (MBA 13&quot;) to work to directly compare with the work machine (iMac 27&quot;).
Both machines are OSX 10.6.8, Java 1.6.0_26

- Fully updated Fiji works on iMac 27&quot;, everything OK on this machine
- Doesn't work on MBA (beachball at launch with splash screen displayed, nothing in the console)
- Take the Fiji.app from iMac, put it on MBA -&gt; same freeze
- Repair permissions with Disk Utility on MBA (in cas some Java components have corrupted permissions, see IJ.app case below) -&gt; same freeze
- Remove Fiji prefs from User/Library/Preferences -&gt; same freeze
- Re-download Fiji from Fiji.sc, put Fiji.app on the desktop, launch -&gt; success Fiji.app launches
- Updates this fresh Fiji.app using the updater, quit, relaunch -&gt; SAME FREEZE

Interesting things with ImageJ.app for comparison:
- my regular IJ.app install doesn't work either. Interestingly it is not the same freeze : the app never appears in the dock, and the Console says:
(0x0-0x5d05d.gov.nih.info.rsb.ImageJ[504]) posix_spawn(PATH_TO_IJ/ImageJ64.app/Content/MacOS/JavaApllicationStub&quot;, ...): Permission denied
- repairing the permissions with disk utility -&gt; no luck
- re-install fresh imageJ from rsbweb.nih.gov, lauch (ImageJ 1.44o) -&gt; success IJ launches
- update using &quot;Update ImageJ&quot; to 1.45l -&gt; success IJ launches

So i can do with vanilla ImageJ something I can't with Fiji: re-download, launch and update to get an updated version running. So it seems to be Fiji-related, but I don't know what to try next. Is there some verbose mode I can launch Fiji with to get a log of what happens ?
 

</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-21 11:42:33 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I also tried to install OpenJDK 1.7 for OSX (this one: <a href="http://code.google.com/p/openjdk-osx-build/downloads/detail?name=OpenJDK-OSX-1.7-universal-20110721.dmg">http://code.google.com/p/openjdk-osx-build/downloads/detail?name=OpenJDK-OSX-1.7-universal-20110721.dmg</a>), but then after selecting it in the &quot;Java Preferences&quot; Utility (and removing Java 1.6 to force use of 1.7), I can't launch ImageJ64.app (a get a &quot;No compatible Java version&quot;), and nothing happens when double clicking on Fiji.app, with console messages saying JavaVM FATAL : failed to load the jvm library</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-21 12:00:17 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Last thing I tried this morning : starting from a fresh download of Fiji (downloaded on Fiji.sc) and update it pieces by pieces to isolate the component that make it fail. Not surprisingly, it is the fiji-macosx (i.e. the launcher) that breaks Fiji when updated. So at least I can get an up-to-date Fiji by just ignoring the launcher update...</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-29 15:45:40 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I am terribly sorry, but with MacOSX 10.6.8, Java 1.6.0_26, a fresh download, unpacked to the Desktop, updated as suggested, does not make the spinning wheel of death here.

So it most likely is something local to your specific setup. Would you have the chance to look over it using jvisualvm to find out what hangs?

As a work-around, launching &quot;fiji-macosx --system&quot; should work.</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-30 13:57:57 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I installed visualVM from <a href="http://visualvm.java.net/index.html">http://visualvm.java.net/index.html</a> and ran it before launching Fiji. I get a functional monitoring for a working copy of Fiji. However, when I launch the problematic Fiji install (the one with the updated fiji-macosx), when the beachball spins for Fiji, switching to VisualVM and trigger ing monitoring of the Fiji process also freezes VisualVM.</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-30 16:39:54 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Do you have a 'gdb' installed? If so, it would be helpful if you could attach to the process and show a stacktrace:

    gdb /path/to/fiji-macosx &lt;PID&gt;

(where &lt;PID&gt; is the process ID you can obtain using either &quot;top -u&quot; or &quot;ps |grep fiji&quot;) and then 'bt' at the gdb prompt.

I am very sorry that you have to go through this trouble; I simply cannot reproduce however I try.</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-03 16:02:07 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I don't have gdb installed. I see it comes with Xcode, so I'd rather install the whole Xcode. I don't have the CD at hand (currently on holidays for a couple of weeks) but I'll do it then. Hopefully working on this will be helpful to more than just myself.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-08 17:45:51 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Maybe you do not need XCode, but can use dtruss to find out where it fails: <a href="http://fiji.sc/Debugging_intro#MacOSX">http://fiji.sc/Debugging_intro#MacOSX</a></pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-19 11:19:52 CDT
        </span>
      </div>



<pre class="bz_comment_text" >So, any updates? Did you have a chance to try the launchers I uploaded to <a href="http://fiji.sc/snaps/fiji-macosx">http://fiji.sc/snaps/fiji-macosx</a> and <a href="http://fiji.sc/snaps/fiji-tiger">http://fiji.sc/snaps/fiji-tiger</a>?</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-19 12:21:35 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I still didn't check with the trace tools you suggested (I've been back for two days...). I'll try the fix ASAP (in the next 24 hours) and let you know !</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-19 15:34:55 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Please update Fiji (in particular, fiji-macosx and fiji-tiger) and let us know whether the bug is fixed now (Michael Schell reported what is most likely the same bug as issue 352 and let me use his computer to test until I found the reason).</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christophe Leterrier</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-22 09:48:10 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c15">comment #15</a>)
<span class="quote">&gt; Please update Fiji (in particular, fiji-macosx and fiji-tiger) and let us know
&gt; whether the bug is fixed now (Michael Schell reported what is most likely the
&gt; same bug as issue 352 and let me use his computer to test until I found the
&gt; reason).
&gt; </span >

I fully updated this morning and can confirm that it works now. Thanks a lot Johannes !</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>


</div>

</body>
</html>
