<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 136 &ndash; Get DOS code to manually remove updated files when reboot Fiji after update. This occurs on my Vista machine but not XP machine. Might update to Win7, should that make a difference.</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Plugins bz_bug_136 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;136</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Get DOS code to manually remove updated files when reboot Fiji after update. This occurs on my Vista machine but not XP machine. Might update to Win7, should that make a difference.</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2011-03-23 15:59:23 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="bugzilla-body">


<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2011-03-23 15:59:23">
  <input type="hidden" name="longdesclength" value="6">
  <input type="hidden" name="id" value="136">
  <input type="hidden" name="token" value="1492731514-k9XojTI6P54dDtEHgeKssj2yrpH3fktEJOKAN4kvoDU">
<div class="bz_alias_short_desc_container edit_form">
     <a href="136.html"><b>Bug&nbsp;136</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Get DOS code to manually remove updated files when reboot Fiji after update. This occurs on my Vista machine but not XP machine. Might update to Win7, should that make a difference.</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td><span title="Get DOS code to manually remove updated files when reboot Fiji after update. This occurs on my Vista machine but not XP machine. Might update to Win7, should that make a difference.">Get DOS code to manually remove updated files when reboot Fiji after update. ...
        </span>
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Plugins</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">PC
       Windows
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P4
       normal
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a href="page.cgi?id=fields.html#assigned_to">Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">ImageJ Bugs Mailing List</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2010-02-08 15:38 CST by <span class="vcard"><span class="fn">Dave Schneider</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2011-03-23 15:59 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>1 
          user
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="das">das</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    



  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Schneider</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-02-08 15:38:12 CST
        </span>
      </div>



<pre class="bz_comment_text" >[Enter details of the problem or bug and how to reproduce it here.]

Information about your version of Java - this information is useful for the Fiji developers:
  os.arch =&gt; x86
  os.name =&gt; Windows Vista
  os.version =&gt; 6.0
  java.version =&gt; 1.6.0_16
  java.vendor =&gt; Sun Microsystems Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_16-b01
  java.vm.name =&gt; Java HotSpot(TM) Client VM
  java.vm.version =&gt; 14.2-b01
  java.vm.vendor =&gt; Sun Microsystems Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; sun.awt.Win32GraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; windows
  file.separator =&gt; \</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Schneider</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-02-08 15:45:27 CST
        </span>
      </div>



<pre class="bz_comment_text" >After updates are applied, a DOS window opens when I reboot Fiji. The window states that I need to manually remove certain files (the ones that were replaced or otherwise removed in the updates). Everything works fine after I do this and reboot Fiji again. This is only a problem on my machine running Vista Professional Edition and not on my XP Professional. I could upgrade to Win 7 if that makes a difference.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-02-09 10:52:18 CST
        </span>
      </div>



<pre class="bz_comment_text" >What files do you have to remove? What error message did it display? Without vital information like this, you ask me to guess, and I refuse to do that.</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Schneider</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-02-09 17:34:30 CST
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c2">comment #2</a>)
<span class="quote">&gt; What files do you have to remove? What error message did it display? Without
&gt; vital information like this, you ask me to guess, and I refuse to do that.</span >

I'll try to replicate this again and write this information down. To do so I deleted the Fiji program folder and re-extracted the original download to C:\Program Files\.

I start Fiji and go to Help&gt;Update Fiji. This opens the Fiji Updater window and ends with &quot;jars/jython2.2.1/jython.jar&quot;...&quot;Uninstall it&quot;. I Apply changes and it states update is successful. Upon restart I get a DOS window that states &quot;Could not remove C:\Progra~1\Fiji.app/jars/jython2.2.1/jython.jar&quot;. 

If I close the window, restart Fiji, the DOS window does not come up. However, I get the same update suggestion. 

If instead I close Fiji and the DOS window, manually remove the jython.jar from its folder, then no DOS window appears upon restarting Fiji and Fiji is reported as up to date.

This behavior is exactly the same as when I first downloaded Fiji (approximately 2010.02.02) BUT it involved numerous plugin files and a few jar files instead of just the one reported this time. Previously, when multiple files needed updating, I would recieve the &quot;Could not remove...&quot; statement for just one file at a time; i.e., I would not get the next file in need of deleting until I restarted Fiji again. Once I got through all those manual deletions Fiji seemed to work just fine until the next updates. I think there were two or three updates since that time and, except for the very last update, all others required manual removal of updated files. The very last update (2010.02.07 or 08) did not behave this way but worked without requiring manual removal of any files.

I hope this helps. I'm sorry I can't recall all the files that this previously involved. But the behavior, though involving only one file this time, seems still to occur today (2010.02.09).</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Schneider</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-02-11 16:08:05 CST
        </span>
      </div>



<pre class="bz_comment_text" >Another update today replicates original problem.

Start Fiji and allow updater to run.

Fiji updater window:
&quot;plugins/TrakEM2_.jar...update it
plugins/mpicbg_.jar...update it&quot;

Applied changes. Restart Fiji

1st DOS window &lt;window autocloses after ~60s&gt;:
&quot;Could not move C:\Progra~1\Fiji.app/update/plugins/TrkEM2_.jar to C:\Progra~1\Fiji.app/plugins/TrakEM2_jar: File exists.&quot;

Try starting Fiji again. 2nd DOS window &lt;autocloses after ~60s&gt;:
&quot;Could not remove old version of C:\Progra~1\Fiji.app/plugins/mpicbg_.jar. Please remove manually!&quot;

Restarting Fiji results in second DOS window again.

Removed mpicbg_.jar manually.

Restart Fiji and get 1st DOS window.

Removed TrakEM2_.jar and Fiji restarts normally and is up-to-date.

I'm starting to think the difficulties are related to the user control protection of Vista. Vista gives me a window &quot;Destination Folder Access Denied&quot; everytime I try to delete something from Fiji. I press the &quot;Continue&quot; button to confirm the intended deletion of the file which then brings up an &quot;User Account Control&quot; window asking me to confirm that I started this action. These must be steps that the Fiji update process cannot overcome. Perhaps upgrading to Windows 7 will alleviate the update hassel I'm experiencing.</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-23 15:59:23 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I very much hope that you excuse the long delay in answering, but I equally hope that I managed to fix the issue in the meantime. If not, please let me know and reopen the bug. I will have to reproduce this somehow (which involves me physically being in front of a machine that has the same OS as you have...)</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>


</div>

</body>
</html>
