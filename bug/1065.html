<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 1065 &ndash; Interpolation/render​ing lower quality in Mac OS compared to other OS</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_ASSIGNED bz_product_ImageJ bz_component_Common bz_bug_1065 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;1065</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Interpolation/render​ing lower quality in Mac OS compared to other OS</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2015-06-21 12:52:38 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="bugzilla-body">


<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2015-06-21 12:52:38">
  <input type="hidden" name="longdesclength" value="10">
  <input type="hidden" name="id" value="1065">
  <input type="hidden" name="token" value="1492731906-Nv55beOJRiZucjCaRnCL3s0HLcMQLf-wC0UkyMuQD4I">
<div class="bz_alias_short_desc_container edit_form">
     <a href="1065.html"><b>Bug&nbsp;1065</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Interpolation/render​ing lower quality in Mac OS compared to other OS</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>Interpolation/render​ing lower quality in Mac OS compared to other OS
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">ASSIGNED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >ImageJ</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Common</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">Macintosh
       Mac OS
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P5
       enhancement
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2015-05-07 04:07 CDT by <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2015-06-21 12:52 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>2 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="imagej-bugs">imagej-bugs</option>
                <option value="jan.eglinger">jan.eglinger</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    


<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_x-zip-compressed">
        <td valign="top">
            <a href="attachment.cgi?id=249"
               title="View the content of the attachment">
          <b>Screen captures</b></a>

          <span class="bz_attach_extra_info">
              (373.74 KB,
                application/x-zip-compressed)

            <br>
            <a href="#attach_249"
               title="Go to the comment associated with the attachment">2015-05-07 04:07 CDT</a>,

            <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
          </span>
        </td>


        <td valign="top">
          <a href="attachment.cgi?id=249&amp;action=edit">Details</a>
        </td>
      </tr>

  </table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-07 04:07:04 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="attachment.cgi?id=249" name="attach_249" title="Screen captures">attachment 249</a> <a href="attachment.cgi?id=249&amp;action=edit" title="Screen captures">[details]</a></span>
Screen captures

Hello everyone, 

I'm a ImageJ user, I wanted to report some differences about image rendering between operating systems.

I made a screen capture (see attachement) of a same PET image in Mac OS and Linux. You will notice that using the same image, using the same zoom the image quality is clearly different, the Mac OS display is far more &quot;pixelized&quot; than Linux display.


I never noticed any difference between Linux and Windows, the problem seems Mac OS specific. 

I think that the interpolation have a lower quality in Mac OS, I have activated the interpolation in all OS but in Mac OS it sounds like the interpolation is not as good as other OS.

I use ImageJ for medical imaging so image quality rendering is a real important parameter for me. Maybe some of you will be able to find out what is going on with Mac OS ?

Best regards,

Salim Kanoun</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jan Eglinger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-07 06:13:44 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Salim,

could you please check if the option &quot;Interpolate zoomed images&quot; is activated in 'Edit &gt; Options &gt; Appearance...' on your Windows PC? Deactivating this option should result in a rendering as you observe it on your Mac OSX system.

Hope that helps,
Jan</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-07 06:53:11 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Jan Eglinger from <a href="#c1">comment #1</a>)
<span class="quote">&gt; Hi Salim,
&gt; 
&gt; could you please check if the option &quot;Interpolate zoomed images&quot; is
&gt; activated in 'Edit &gt; Options &gt; Appearance...' on your Windows PC?
&gt; Deactivating this option should result in a rendering as you observe it on
&gt; your Mac OSX system.
&gt; 
&gt; Hope that helps,
&gt; Jan</span >

Dear Jan,

 

In both screen capture the &quot;interpolate zoomed images&quot; are activated (MacOS and Linux). 

 

The Interpolation is not completely broken in MacOS, when I activate and deactivate it, I see some changes but the interpolated image is far less quality in MacOS than other OS.

 

I work with Ilan Tal for the PET/CT viewer, we tried to change rendering parameter in his plugin, in Windows and Linux the display is really good but in MacOS we always have those pixelized images probably due to a lower interpolation. 

 

In our thought, the problem may be related to JAVA2D that seems to give lower quality in MacOS than other OS. In Mac OS documentation for developer it seems that Apple provides different API for rendering like Quartz but we wasn't able to use it since Mr Tal don't have a Apple computer to use those specific library (I may not understood all those technical stuff). 

 

However I wonder is those Mac specific rendering could be solved into ImageJ itself. It is really nice to have a cross platform software but having a lower image rendering for Mac users is annoying.

 

Best regards,

 

Salim</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-07 07:00:21 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Which version of Java are you using? The bundled Java 1.6.0_24? If so, please try with Java 7 and/or Java 8, to see if that helps the situation.</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-07 07:12:43 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Curtis Rueden from <a href="#c3">comment #3</a>)
<span class="quote">&gt; Which version of Java are you using? The bundled Java 1.6.0_24? If so,
&gt; please try with Java 7 and/or Java 8, to see if that helps the situation.</span >

Dear Curtis,

Sadly I don't own a Mac computer to do the test just now. 
I think that when I investigate the problem I had started FIJI with a command line to use the current version of JAVA and the display was still bad. 
I was weeks ago so I should verify my thought.

I will ask a colleague to bring her Mac computer for testing next Monday. If you have any other idea that could help you, you can make me a list of thing to test and could help you.

Best regards,

Salim</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-11 11:22:14 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Curtis Rueden from <a href="#c3">comment #3</a>)
<span class="quote">&gt; Which version of Java are you using? The bundled Java 1.6.0_24? If so,
&gt; please try with Java 7 and/or Java 8, to see if that helps the situation.</span >

Dear Curtis,

I took all the Mac devices I can explore and I found that it might be depending on Mac OS version.

I had two MacBook Air

One is mid 2011 MacBook version, it is up to date and run Mac OS 10.10.3 and have the bad interpolation.

The other is a mid 2013 version and is running and old Mac OS 10.9.5 but this one shows a perfect display like Windows or Linux. 

I tried to run FIJI on the latest version of Java but even with the command I found in the FAQ (/Applications/ImageJ.app/Contents/MacOS/ImageJ-macosx --java-home \
  '/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home' ) FIJI always tell me that it use Java 1.6.

Is it the correct command to run with a specific java version ?

Best regards,

Salim</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-11 11:29:07 CDT
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; I tried to run FIJI on the latest version of Java but even with the
&gt; command I found in the FAQ
&gt; (/Applications/ImageJ.app/Contents/MacOS/ImageJ-macosx --java-home \
&gt; '/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home')
&gt; FIJI always tell me that it use Java 1.6.
&gt; 
&gt; Is it the correct command to run with a specific java version ?</span >

Yes, but you need to make sure the path goes to your actual Java 7 installation. It is very likely not 1.7.0_45 anymore at this point.

Just take a look:

$ ls /Library/Java/JavaVirtualMachines

And see what is in there. Then use the newest.

Or, you can using the following script:

   <a href="https://github.com/ctrueden/ctr-scripts/blob/master/java-info">https://github.com/ctrueden/ctr-scripts/blob/master/java-info</a></pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-11 11:39:53 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Dear Curtis,

I removed the \ in the command and I ran FIJI in the 1.8, I think the \ is a error is probably because the command is splited in two lines.

However, with JAVA 1.8 the display is corrected, perfect display like other OS.

So now what is next ? The users will get the good display once ImageJ will be updated to JAVA 1.8 ? Is it going to come soon ? 

Best regards,

Salim

(In reply to Curtis Rueden from <a href="#c6">comment #6</a>)
<span class="quote">&gt; &gt; I tried to run FIJI on the latest version of Java but even with the
&gt; &gt; command I found in the FAQ
&gt; &gt; (/Applications/ImageJ.app/Contents/MacOS/ImageJ-macosx --java-home \
&gt; &gt; '/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home')
&gt; &gt; FIJI always tell me that it use Java 1.6.
&gt; &gt; 
&gt; &gt; Is it the correct command to run with a specific java version ?
&gt; 
&gt; Yes, but you need to make sure the path goes to your actual Java 7
&gt; installation. It is very likely not 1.7.0_45 anymore at this point.
&gt; 
&gt; Just take a look:
&gt; 
&gt; $ ls /Library/Java/JavaVirtualMachines
&gt; 
&gt; And see what is in there. Then use the newest.
&gt; 
&gt; Or, you can using the following script:
&gt; 
&gt;    <a href="https://github.com/ctrueden/ctr-scripts/blob/master/java-info">https://github.com/ctrueden/ctr-scripts/blob/master/java-info</a></span ></pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-05-11 15:14:34 CDT
        </span>
      </div>



<pre class="bz_comment_text" ><span class="quote">&gt; So now what is next ? The users will get the good display once ImageJ
&gt; will be updated to JAVA 1.8 ? Is it going to come soon ? </span >

Yes, using Java 8 is the best solution.

We are planning to update the ImageJ downloads (including Fiji) to ship with Java 8 before the end of the year -- ideally much sooner, but the work is rather involved, and things already take longer than you expect...</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Salim Kanoun</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-06-21 12:52:38 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to Curtis Rueden from <a href="#c8">comment #8</a>)
<span class="quote">&gt; &gt; So now what is next ? The users will get the good display once ImageJ
&gt; &gt; will be updated to JAVA 1.8 ? Is it going to come soon ? 
&gt; 
&gt; Yes, using Java 8 is the best solution.
&gt; 
&gt; We are planning to update the ImageJ downloads (including Fiji) to ship with
&gt; Java 8 before the end of the year -- ideally much sooner, but the work is
&gt; rather involved, and things already take longer than you expect...</span >

Dear Curtis,

Just a small additional info,

The last update for Mac OS with java 8 solved the display problem, it is really nice.

I just noticed now that the same problem is shown with Windows 8, the interpolation seems completely broken in windows 8. 
However I know that the solution is already on the road, so it was just to  notify it.

best regards,

Salim</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>


</div>

</body>
</html>
